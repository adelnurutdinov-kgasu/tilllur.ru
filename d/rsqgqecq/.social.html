<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">

	<meta name="format-detection" content="telephone=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<script type="text/javascript">
		// This automatically sets the right viewport scale on mobile devices
		(function () {
			var scale = 1 / window.devicePixelRatio
			var viewport = "width=device-width, height=device-height, initial-scale=" + scale + ", maximum-scale=" + scale + ", user-scalable=no, viewport-fit=cover"
			var iOS = /iPad|iPhone|iPod/.test(navigator.platform)
			if (iOS) { viewport += ", shrink-to-fit=no" }
			document.write("<meta name=\"viewport\" content=\"" + viewport + "\">")
		})()
	</script>

	<link rel="apple-touch-icon" href="framer/images/icon-120.png">
	<link rel="apple-touch-icon" href="framer/images/icon-76.png" sizes="76x76">
	<link rel="apple-touch-icon" href="framer/images/icon-120.png" sizes="120x120">
	<link rel="apple-touch-icon" href="framer/images/icon-152.png" sizes="152x152">
	<link rel="apple-touch-icon" href="framer/images/icon-180.png" sizes="180x180">
	<link rel="apple-touch-icon" href="framer/images/icon-192.png" sizes="192x192">

	<link rel="stylesheet" type="text/css" href="framer/style.css?nocache=8a7763e1f98d03446d8c533662717537">

	<script src="framer/coffee-script.js"></script>
	<script src="framer/framer.js?nocache=ccde4b2928c04a5f74598c3c6942c6d5"></script>
	<script src="framer/framer.generated.js?nocache=2a8b43d671ed92ba71fe0c72d71215b9"></script>
	<script src="framer/framer.modules.js?nocache=83069766dca4604971b4a8acdf5398a6"></script>
	<script src="framer/framer.vekter.js"></script>
	<script>Framer.Device.hideBezel = false</script><script>document.addEventListener("DOMContentLoaded", function() {window.__framerClientCodeId = 20;window.__framerNew = function (n,loc,th,i){if (i == null) { return i };i.__framerInstanceInfo = _.defaults({name:n,location:loc,hash:th},i.__framerInstanceInfo);_.defaults(i.__framerInstanceInfo,{name:"Untitled"});return i;};window.__framerAnimation = function (th,a){if (a.isNoop === true) {return a;};var l = a.layer;if (l == null) { return a; };if (l.__framerAnimationInfo == null) {l.__framerAnimationInfo = {};};l.__framerAnimationInfo[th] = {originalState:a._originalState, destinationProperties: a.properties, destinationOptions: a.options};return a;};(function() {
  var Preview, articleView, articleView_backButton, articleView_content, articleView_scroll, borderValue, button, childLayer, comments, consoleLayer, content_head, createText, createTitle, i, image, j, len, ref, screen, sumY;

  Framer.Extras.Hints.disable();

  borderValue = 42;

  Framer.Extras.Preloader.addImage("images/zenViewWithHeader.png");

  Preview = require("PreviewComponent").Preview;

  screen = window.__framerNew("screen", "11:13-11:69", "#e1627740",new Layer({
    width: 390,
    height: 844,
    backgroundColor: "ddd"
  }));

  window.__framerNew(undefined, "12:4-12:27", "?",new Preview({
    view: screen
  }));

  button = window.__framerNew("button", "15:13-21:0", "#80e72abc",new Layer({
    parent: screen,
    size: 120,
    x: Align.center,
    y: Align.center,
    borderRadius: "100%"
  }));

  button.on(Events.TouchEnd, function() {
    return articleView.animate("shown", {
      curve: Spring({
        damping: 1
      }),
      time: 0.5
    });
  });

  articleView = window.__framerNew("articleView", "26:18-37:0", "#17d533c21",new Layer({
    parent: screen,
    width: screen.width,
    height: screen.height,
    backgroundColor: "white",
    image: "images/zenViewWithHeader.png",
    borderRadius: borderValue,
    clip: true,
    animationOptions: {
      curve: Spring({
        damping: 1
      }),
      time: 0.3
    }
  }));

  articleView.states = {
    "shown": {
      x: 0,
      y: 0,
      scale: 1
    },
    "hidden": {
      x: 0,
      y: 844 + 20
    },
    "hidden-top": {
      x: 0,
      y: -(844 + 20)
    },
    "hidden-right": {
      x: 390 + 20,
      y: 0,
      scale: 0.8
    }
  };

  articleView.stateSwitch("shown");

  articleView.on(Events.StateSwitchEnd, function(from, to) {
    if (to === "hidden") {
      return articleView_scroll.scrollToClosestLayer(0, 0);
    } else if (to === "hidden-top") {
      return this.stateSwitch("hidden");
    } else if (to === "hidden-right") {
      return this.stateSwitch("hidden");
    }
  });

  articleView.draggable.vertical = true;

  articleView.draggable.horizontal = true;

  articleView.draggable.speedX = 0.5;

  articleView.draggable.speedY = 0.5;

  articleView_scroll = window.__framerNew("articleView_scroll", "64:25-76:0", "#801f24d4",new ScrollComponent({
    parent: articleView,
    y: 100,
    width: articleView.width,
    height: articleView.height - 100,
    scrollVertical: true,
    scrollHorizontal: false,
    directionLock: true,
    contentInset: {
      bottom: 80
    }
  }));

  articleView_scroll.content.on(Events.TouchStart, function(event, layer) {
    return articleView.draggable.vertical = false;
  });

  articleView_scroll.content.on(Events.TouchEnd, function(event, layer) {
    return articleView.draggable.vertical = true;
  });

  articleView_scroll.content.on(Events.DragStart, function(event, layer) {
    if (articleView_scroll.scrollY <= 0 && layer.draggable.direction === "down") {
      articleView.draggable.vertical = true;
      articleView.draggable.horizontal = true;
      this.draggable.vertical = false;
      return;
    } else if (articleView_scroll.scrollY >= articleView_content.height - screen.height + articleView_scroll.y + articleView_scroll.contentInset.bottom && layer.draggable.direction === "up") {
      articleView.draggable.vertical = true;
      articleView.draggable.horizontal = true;
      this.draggable.vertical = false;
      return;
    }
    return articleView.draggable.horizontal = false;
  });

  articleView_scroll.content.on(Events.DragEnd, function(event, layer) {
    articleView.draggable.horizontal = true;
    return this.draggable.vertical = true;
  });

  articleView.on(Events.DragStart, function(event, layer) {
    if (this.draggable.direction === "right" || this.draggable.direction === "left") {
      return this.draggable.vertical = true;
    }
  });

  articleView.on(Events.DragEnd, function(event, layer) {
    this.animate("shown");
    if (this.y > 60) {
      this.animate("hidden");
    } else if (this.y < -60) {
      this.animate("hidden-top");
    } else if (this.x > 80) {
      this.animate("hidden-right");
    }
    return consoleLayer.text = this.y;
  });

  articleView.on("change:point", function() {
    var v;
    if (this.draggable.isDragging) {
      v = Math.hypot(articleView.x, articleView.y);
      return this.scale = Utils.modulate(v, [0, 200], [1, 0.9], false);
    }
  });

  articleView_content = window.__framerNew("articleView_content", "126:26-133:0", "#11ac873f7",new Layer({
    width: 390,
    height: 2192,
    backgroundColor: "white",
    borderRadius: borderValue,
    parent: articleView_scroll.content,
    clip: true
  }));

  articleView_backButton = window.__framerNew("articleView_backButton", "134:29-142:0", "#df74cfbd",new Layer({
    propagateEvents: true,
    parent: articleView,
    width: 48,
    height: 56,
    y: Align.top(44),
    x: Align.left(0),
    backgroundColor: "null"
  }));

  articleView_backButton.onTap(function() {
    return window.__framerAnimation("#13f4ea655",articleView.animate("hidden"));
  });

  createText = function(textValue) {
    if (textValue == null) {
      textValue = "text";
    }
    return window.__framerNew(undefined, "149:12-163:0", "#eee4d60e",new TextLayer({
      parent: articleView_content,
      width: screen.width,
      fontSize: 18,
      lineHeight: 28 / 18,
      color: "black",
      fontFamily: "YS Web Regular",
      opacity: .8,
      text: textValue,
      padding: {
        left: 20,
        right: 20,
        top: 16,
        bottom: 16
      }
    }));
  };

  createTitle = function(textValue) {
    if (textValue == null) {
      textValue = "text";
    }
    return window.__framerNew(undefined, "165:12-186:0", "#177e90094",new TextLayer({
      parent: articleView_content,
      width: screen.width,
      fontSize: 20,
      lineHeight: 24 / 20,
      color: "black",
      fontWeight: "bold",
      text: textValue,
      padding: {
        left: 20,
        right: 20,
        top: 8,
        bottom: 8
      }
    }));
  };

  content_head = window.__framerNew("content_head", "187:19-198:0", "#17096dcdb",new TextLayer({
    parent: articleView_content,
    width: screen.width,
    fontSize: 30,
    fontWeight: "bold",
    color: "black",
    text: "Прототип закрытия статьи Дзена",
    padding: {
      left: 20,
      right: 20,
      top: 16
    }
  }));

  createText("Как можно закрыть статью:\n1. свайп от левого края экрана\n2. свайп наверху статьи\n3. свайп за шапку статьи\n4. свайп в самом конце статьи");

  image = window.__framerNew("image", "201:12-206:0", "#dd35f016",new Layer({
    parent: articleView_content,
    width: 390,
    height: 280,
    image: "images/image.jpg"
  }));

  createText("К «известным» авторам издательства относят любых инфлюэнсеров со 100+ тысячами фолловеров.");

  createTitle("Вариант 1. Выпустить книгу в двух томах");

  createText("Например, первый том более попсовый, второй — более глубокий. Или первый том какие-то общие положения на все случаи жизни, второй том — прикладные аспекты.");

  createTitle("Вариант 2. Выпустить книгу в формате «Учебник + воркбук»");

  createText("В учебнике теория, в воркбуке упражнения. Как правило, для этого варианта требуется существенная переработка первоначальной структуры и текста книги. \n\n Крупные издательства предлагают авторам два способа издания первой книги.");

  comments = window.__framerNew("comments", "215:15-222:0", "#111295916",new Layer({
    parent: articleView_content,
    width: 390,
    height: 667,
    image: "images/comments.jpg"
  }));

  sumY = 0;

  ref = articleView_content.children;
  for (i = j = 0, len = ref.length; j < len; i = ++j) {
    childLayer = ref[i];
    childLayer.y = sumY;
    sumY += childLayer.height;
  }

  articleView_content.height = 2192 - 290;

  articleView_scroll.updateContent();

  Utils.delay(4, function() {
    var k, len1, ref1, results;
    sumY = 0;
    ref1 = articleView_content.children;
    results = [];
    for (i = k = 0, len1 = ref1.length; k < len1; i = ++k) {
      childLayer = ref1[i];
      childLayer.y = sumY;
      results.push(sumY += childLayer.height);
    }
    return results;
  });

  consoleLayer = window.__framerNew("consoleLayer", "242:19-254:72", "#10c68b19b",new TextLayer({
    parent: screen,
    width: 390,
    height: 40,
    backgroundColor: "white",
    y: Align.bottom(),
    fontSize: 14,
    textAlign: "center",
    padding: {
      top: 10
    },
    opacity: 0
  }));

}).call(this);
})</script>

</head>

<body>
</body>

</html>